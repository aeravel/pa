# RSC Codex

Этот репозиторий содержит документацию MkDocs о корпорации RSC.

## Требования
- Python 3.9+
- [MkDocs](https://www.mkdocs.org/)
- Тема [mkdocs-material](https://squidfunk.github.io/mkdocs-material/)

Установить зависимости можно одной командой:

```bash
pip install mkdocs mkdocs-material
```

## Режим разработки
Чтобы открыть сайт локально и увидеть анимации стартовой страницы:

```bash
mkdocs serve
```

Команда поднимет локальный сервер (обычно `http://127.0.0.1:8000`). Любые изменения в Markdown или ассетах будут автоматически обновляться в браузере.

## Сборка статического сайта
Для публикации на отдельном хостинге выполните:

```bash
mkdocs build
```

Сгенерированный статический сайт появится в каталоге `site/`. Содержимое этой папки можно загрузить на любой статический хостинг или разместить через GitHub Pages.

## Автодеплой на GitHub Pages
В репозитории настроен workflow `.github/workflows/deploy.yml`. Он собирает сайт и публикует его в ветку `gh-pages` при каждом пуше в `main` или при ручном запуске. Чтобы страница стала доступна по адресу `https://aeravel.github.io/pa/`, откройте **Settings → Pages** и укажите источник `Deploy from a branch`, ветка `gh-pages`, директория `/`.

Первый запуск может занять пару минут. После завершения workflow GitHub Pages автоматически обновит сайт.

## Конфигурация стартовой сцены
Все основные параметры лендинга собраны в JSON-файле `docs/assets/data/landing.json`. Он предотвращает конфликтующие правки в Markdown: достаточно изменить данные в одном месте, и скрипт подхватит их при загрузке страницы.

В файле доступны поля:

- `header` — подпись панели (например, "RSC // BRIEFING");
- `cacheBuster` — произвольная версия ассетов. Увеличьте число, если заменили изображения или музыку, чтобы страница подхватила новый файл, минуя кеш браузера и CDN;
- `audio.src`, `audio.volume`, `audio.autoplay` — путь до фоновой композиции, громкость (0.0–1.0) и флаг автоматического старта (при `true` скрипт попытается включить музыку сразу после загрузки и при первом взаимодействии);
- `intro.image`, `intro.label`, `intro.hint` — заставка с проигрывателем: путь до фонового изображения (по умолчанию `landing-intro-vinyl.svg`), подпись кнопки и подсказка;
- `buttons.advance`, `buttons.explore` — подписи кнопок;
- `stages` — массив сцен. Для каждой сцены можно указать `id` (`one`, `two`), `image`/`backdrop` и `text`.

После правок сохраните файл и перезапустите локальный сервер (`mkdocs serve`) либо дождитесь следующей публикации. Не забудьте увеличить `cacheBuster`, если ассет был переименован или заменён: параметр `?v=...` в ссылке гарантирует, что страница загрузит свежую версию даже при жёстком кешировании GitHub Pages.

### Сцена с проигрывателем и музыка
На первой заставке отображается виниловый проигрыватель (`docs/assets/images/landing-intro-vinyl.svg`). Он подсвечивается при наведении и запускает дальнейший сценарий: после клика музыка включается, а через ~3 секунды появляется основной блок с историей. Замените изображение в файле или укажите свой путь в `intro.image`; при необходимости измените подпись и подсказку через поля `intro.label` и `intro.hint`.

Файл фоновой музыки по умолчанию — `docs/assets/audio/landing-theme.mp3`. Подмените его на собственный трек и обновите путь в `audio.src` внутри `landing.json`, если изменили имя. Скрипт автоматически подстроит громкость и загрузит композицию. Значение `audio.autoplay` по умолчанию `false`, чтобы не нарушать сценарий с проигрывателем; при установке `true` музыка попытается стартовать сразу после загрузки страницы и на любом взаимодействии (клик, тап, Enter/Space), даже если заставка ещё отображается.

### Фоновые изображения
Сцены подключаются через `<img>`, поэтому можно использовать любые форматы (SVG/PNG/JPG). Замените содержимое файлов:

- `docs/assets/images/landing-stage-one.svg` — ночной брифинг;
- `docs/assets/images/landing-stage-two.svg` — холл академии.
- `docs/assets/images/landing-intro-vinyl.svg` — заставка с проигрывателем.

Если хотите хранить арты с другими именами, укажите новые пути в `stages[].image` или `stages[].backdrop` внутри `landing.json`. После замены изображений увеличьте `cacheBuster` и при необходимости выполните принудительное обновление страницы (Ctrl+F5 или Command+Shift+R), чтобы браузер очистил локальный кеш.
